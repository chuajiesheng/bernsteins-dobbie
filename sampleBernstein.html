<!DOCTYPE html>
<html>
  <head>
    <title>Bernstein's Algorithm Teaching Aid</title>
    <link rel="stylesheet" type="text/css" href="css/bootmetro.css">
    <link rel="stylesheet" type="text/css" href="css/bootmetro-responsive.css">
    <link rel="stylesheet" type="text/css" href="css/bootmetro-icons.css">
    <link rel="stylesheet" type="text/css" href="css/bootmetro-ui-light.css">
    <link rel="shortcut icon" href="ico/favicon.ico">
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
    <script src="js/modernizr-2.6.2.min.js"></script>

    <!-- bernstein related files-->
    <script src="objects.js"></script>
    <script src="util.js"></script>
    <script src="global.js"></script>
    <script src="print.js"></script>
    <script src="bernstein.js"></script>
    <script src="bernstein_p1.js"></script>
    <script src="reconstruct.js"></script>
    <script src="test.js"></script>
  </head>
  <body>
    <div class="row">
      <div>&nbsp;</div>
    </div>
    <div class="row">
      <div class="span11 offset1">
        <h1>Bernstein's Algorithm</h1>
      </div>
    </div>
    <div class="row">
      <div>&nbsp;</div>
    </div>

      <div class="row">
        <div class="span11 offset1">
          <h2>Attributes</h2>
          <div class="row">&nbsp;</div>
          <div class="row">
            <div class="span12">
              <form class="form-horizontal">
                <div class="control-group">
                  <label class="control-label" for="inputAttributes">Attributes</label>
                  <div class="controls">
                    <input type="text" id="inputAttributes" placeholder="sno, pno, sname, pname, ...">
                    <span class="help-block">
                      Enter the name of the attributes follow but a ',' (comma).
                    </span>
                    <span class="help-block">
                      Symbols are not allow.
                    </span>
                    <script type="text/javascript" src="validation.js">
                    </script>
                    <div class="row"><div>&nbsp;</div></div>
                    <button type="button" class="btn" id="inputNext">Next Step</button>
                    <div class="row"><div>&nbsp;</div></div>
                    <div class="row">
                      <div class="span12" id="unique">
                        &nbsp;
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="row"><div>&nbsp;</div></div>
      <div class="row">
        <div class="span11 offset1">
          <h2>Functional Dependency</h2>
        </div>
        <div class="span11 offset1" id="section_fd">
          <div class="row"><div>&nbsp;</div></div>
          <div class="row">
            <div class="span3">
              <select multiple="multiple" class="span3" id="fdLHS" disabled>
              </select>
            </div>
            <div class="span3 text-center">
              <h1 style="font-size:500%; text-align:center">&#8594;</h1>
            </div>
            <div class="span4">
              <select multiple="multiple" class="span3" id="fdRHS" disabled>
              </select>
            </div>

          </div>
          <div class="row"><div>&nbsp;</div></div>
          <div class="row">
            <div class="span5" id="fds">

            </div>
            <div class="span4">
              <button type="button" class="btn pull-right" id="addFd" disabled>Add Functional Dependency</button>
            </div>
          </div>
          <script type="text/javascript" src="fd.js"></script>
          <div class="row"><div>&nbsp;</div></div>
        </div>
        <script type="text/javascript" src="attribute.js"></script>
      </div>
      <div class="row"><div>&nbsp;</div></div>
      <div class="row">
        <div class="span11 offset1">
          <h2>Multi-valued Dependency</h2>
        </div>
        <div class="span11 offset1" id="section_mvd">
          <div class="row"><div>&nbsp;</div></div>
          <div class="row">
            <div class="span3">
              <select multiple="multiple" class="span3" id="mvdLHS" disabled>
              </select>
            </div>
            <div class="span3 text-center">
              <h1 style="font-size:500%; text-align:center">&#8608;</h1>
            </div>
            <div class="span4">
              <select multiple="multiple" class="span3" id="mvdRHS" disabled>
              </select>
            </div>
          </div>
          <div class="row"><div>&nbsp;</div></div>
          <div class="row">
            <div class="span5" id="mvds">
            </div>
            <div class="span4">
              <button type="button" class="btn pull-right" id="addMvd" disabled>Add Multi-valued Dependency</button>
            </div>
          </div>
          <script type="text/javascript" src="mvd.js"></script>
          <div class="row"><div>&nbsp;</div></div>
        </div>
      </div>
      <div class="row"><div>&nbsp;</div></div>
      <div class="row">
        <div class="span11 offset1" id="section_init">
          <div class="row">
            <div class="span5" id="empty">
            </div>
            <div class="span4">
              <button type="button" class="btn pull-right" id="startBernstein" disabled>
                Start Bernstein's Algorithm
              </button>
            </div>
          </div>
          <script type="text/javascript" src="start.js"></script>
          <div class="row"><div>&nbsp;</div></div>
        </div>
      </div>
      <div class="row">
        <div class="span11 offset1">
          <h2>Console</h2>
        </div>
        <div class="span11 offset1" id="section_console">
          <div class="row"><div>&nbsp;</div></div>
          <div class="row">
            <div class="span12" id="console">
            </div>
          </div>
          <div class="row"><div>&nbsp;</div></div>
        </div>
      </div>

      <div>
          <button type="button" class="btn pull-right" id="bernStep1" >Call Step 1 (or start bernstein)</button>
          <button type="button" class="btn pull-right" id="bernStep2" >Call Step 2</button>
          <button type="button" class="btn pull-right" id="bernStep3" >Call Step 3</button>
          <button type="button" class="btn pull-right" id="bernStep4" >Call Step 4</button>
          <button type="button" class="btn pull-right" id="bernStep5" >Call Step 5</button>
          <button type="button" class="btn pull-right" id="bernStep6" >Call Step 6</button>
      </div>
      <script>

          //start bernstein calculation 
          $('#bernStep1').click( function() {
              window.fds = step1(fds);
          });


          $('#bernStep2').click( function() {
              window.fds = step2(fds);
          });


          $('#bernStep3').click( function() {
              console.log('calling step 3!');
              console.log('fds pass in');
              console.log(fds);
              console.log('end of fds');
              
              Bernstein.step3(fds);
              console.log('step 3 result');
              console.log(groupfds);
              console.log('end of step 3')
          });


          $('#bernStep4').click( function() {
              console.log('calling step 4!');
              Bernstein.step4(groupfds);
              console.log('step 4 result');
              console.log(groupfds);
              console.log('end of step 4')
          });

          $('#bernStep5').click( function() {
              console.log('calling step 5!');
              Bernstein.step5(groupfds);
              console.log('step 5 result');
              console.log(groupfds);
              console.log('end of step 5')
          });

          $('#bernStep6').click( function() {

            // var fds = [];
            // fds[0] = new Fd(["A"],["B"]);
            // fds[1] = new Fd(["A"],["C"]);
            // fds[2] = new Fd(['B'],['A']);

            // console.log('before start');
            // console.log(fds);
            // console.log('before start');

            // Bernstein.step3(fds);
            // console.log('step 3 result ==');
            // console.log(groupfds);


            // Bernstein.step4(groupfds);
            // console.log('step 4 result ==');
            // console.log(groupfds);

            // Bernstein.step5(groupfds);
            // console.log('step 5 result ==');
            // console.log(groupfds);

            // Bernstein.step6(groupfds);
            // console.log('step6 result ');
            // console.log(groupfds);



              // console.log('calling step 6!');
              // Bernstein.step6(groupfds);
              // console.log('step 6 result');
              // console.log(groupfds);
              // console.log('end of step 6')
          });
      </script>

  </body>
</html>
